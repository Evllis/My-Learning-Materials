<!DOCTYPE html>
<div>
<head lang="en">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="keywords" content=""/>
    <meta name="description" content=""/>
    <meta name="viewport"
          content="width=device-width, initial-scale=1.0, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
    <link href="" rel="stylesheet" type="text/css">
    <script type="text/javascript" src="../vue.js"></script>
    <title>1.10.1_使用组件</title>
</head>

    <p>-------------------- 注册 -------------------------</p>
    <div id="example1">
        <evllis-component></evllis-component>
    </div>

    <p>-------------------- 局部注册 -------------------------</p>
    <div id="example2">
        <evllis-component></evllis-component>
    </div>
    <div id="example3">
        <evllis-component></evllis-component>
    </div>

    <p>-------------------- DOM模板解析说明 -------------------------</p>
    <table id="example4">
        <td is="evllis-component"></td>
    </table>

    <p>-------------------- data必须是函数 -------------------------</p>
    <div id="example5">
        <ul>
            <li v-for="items in num">
                <evllis-component></evllis-component>
            </li>
        </ul>
    </div>
    <script>
        // 注册
        // 组件注册应该在初始化根实例前, 要不然会报错.
//        Vue.component('evllis-component', {
//            template: '<a href="javascript:void(0);">我是一个链接</a>'
//        });
        // 其实这样看看话, 我实在看不出, 哪里是全局注册 局部注册
        // 这无非就是换了一种写法而已, 在任何实例里, 还是可以照常调用
        var Child = {
            template: '<span>这是一个局部注册组件</span>'
        };
        var vm1 = new Vue({
            el: '#example1',
            components: {
                'evllis-component': Child
            }
        });

        // 局部注册

        var vm2 = new Vue({
            el: '#example2',
            components: {
                'evllis-component': Child
            }
        });

        // 所以, 局部注册, 我更愿意写成这样, 好理解一些.
        // 也许把局部组件赋值给一个变量, 是为了组件经常复用提供便利吧.
        var vm3 = new Vue({
            el: '#example3',
            components: {
                'evllis-component': {
                    template: '<b>我是一段粗体文字</b>'
                }
            }
        });

        // DOM模板解析说明
        // 一些特殊的元素在解析时, 使用is特殊属性来处理.
        var vm4 = new Vue({
            el: '#example4',
            components: {
                'evllis-component': {
                    template: '<span>我又是一段文字</span>'
                }
            }
        });

        // data必须是函数
        var getNumber = {
            template: '<a href="javascript:void(0);" v-on:click="getNum">{{ number }}</a>',
            data: function() {
                return {
                    number: parseInt(Math.random() * 100 + 1)
                }
            },
            methods: {
                getNum: function() {
                    this.number = parseInt(Math.random() * 100 + 1)
                    return this.number;
                }
            }
        };
        var vm5 = new Vue({
            el: '#example5',
            data: {
                num: parseInt(Math.random() * 5 + 1)
            },
            components: {
                'evllis-component': getNumber
            }
        });
    </script>
</body>
</html>