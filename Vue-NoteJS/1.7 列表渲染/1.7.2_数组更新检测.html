<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <script src="../vue.js" type="text/javascript"></script>
    <title>1.7.2_数组更新检测</title>
</head>
<body>
    <!-- 变异方法 -->
    <div id="box1">
        <span v-for="items in list">
            {{ items }}
        </span>
    </div>

    <!-- 重塑数组 -->
    <div id="box2">
        <span v-for="items in list">
            {{ items }}
        </span>
    </div>
    <script>
        // 变异方法
        var vm1 = new Vue({
            el: '#box1',
            data: {
                list: [
                    '皮鞋',
                    '衣服',
                    '帽子'
                ]
            }
        });
        // 向数组尾部添加一个或者多个元素, push( obj1, obj2, obj3, ... )
        vm1.list.push('人类');
        console.log(vm1.list); // 皮鞋，衣服，帽子，人类
        // 从数组尾部删除一个元素
        vm1.list.pop();
        console.log(vm1.list); // 皮鞋，衣服，帽子
        // 从数组头部删除一个元素
        vm1.list.shift();
        console.log(vm1.list); // 衣服，帽子
        // 从数组头部添加一个或多个元素，unshift( obj, obj2, { age: 13 } )
        vm1.list.unshift('老虎', {age: 13});
        console.log(vm1.list); // 老虎，{age: 13}，衣服，帽子
        // 删除数组中指定位置的元素，并添加其将要设置的元素
        vm1.list.splice(3, 0, '天空'); // 从3位置开始，删除0个元素，添加'天空'
        console.log(vm1.list); // 老虎，{age: 13}，衣服，天空，帽子
        // 数组排序，按字母排序，可选项，必须是函数，如果要按数字从小到大排序，必须传一个大小比较函数，sort( fn );
        vm1.list.sort();
        console.log(vm1.list); // {age: 13}，天空，帽子，老虎，衣服
        // 数组反转
        vm1.list.reverse();
        console.log(vm1.list); // 衣服，老虎，帽子，天空，{age: 13}

        // 重塑数组
        var vm2 = new Vue({
            el: '#box2',
            data: {
                list: [1, 5, 54, 33, 265, 23, 12, 45]
            }
        });
        function filterNum(value) {
            return value > 30;
        }
        // 非异变方法不会修改原数组，但我们可以使用返回的数组，覆盖掉原始数组。
        vm2.list = vm2.list.filter(filterNum);
        console.log(vm2.list);  // 54 33 265 45
        // 连接数组，concat(value, obj, ...)
        var _tempArr = ['哈哈', 100, {color: 'red'}];
        vm2.list = vm2.list.concat(_tempArr);
        console.log(vm2.list);  // 54 33 265 45 '哈哈' 100 {color: 'red'}
        // 获取数组中指定位置的元素，slice(start, end)，但不包括end结束位置
        console.log(vm2.list.slice(2, 5)); // 265, 45, '哈哈'
    </script>
</body>
</html>